# Требования к проекту

## Постановка задачи

Создать проект с настройкой CI/CD pipeline для автоматической сборки Docker-образа и деплоя на сервер с использованием GitHub Actions.

## Функциональные требования

### 1. Создание приложения

- Создать простое веб-приложение на Python
- Использовать один из фреймворков: Flask или FastAPI

### 2. Настройка GitHub Actions workflow

#### 2.1 Структура файлов
- Создать папку `.github/workflows` в корне проекта
- Создать файл `deploy.yml` в папке `.github/workflows`

#### 2.2 Триггеры workflow
- Workflow должен запускаться при push в ветку `main`

#### 2.3 Сборка Docker-образа
- Workflow должен выполнять сборку Docker-образа приложения
- Docker-образ должен быть собран на основе Dockerfile проекта

#### 2.4 Публикация образа
- Собранный Docker-образ должен быть отправлен (push) в GitHub Container Registry (ghcr.io)

#### 2.5 Деплой на сервер
- Добавить отдельный job для деплоя приложения на сервер
- Деплой должен выполняться через SSH-Action
- Использовать секреты (Secrets) для безопасного подключения к серверу

## Технические требования

### Необходимые компоненты
- Dockerfile для контейнеризации приложения
- GitHub Actions workflow файл (`.github/workflows/deploy.yml`)
- Настроенные секреты в GitHub для:
  - SSH-подключения к серверу
  - Аутентификации в GitHub Container Registry

### Ожидаемый результат
- При каждом push в ветку `main` автоматически:
  1. Собирается Docker-образ приложения
  2. Образ публикуется в GitHub Container Registry
  3. Приложение деплоится на сервер через SSH

